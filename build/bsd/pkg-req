#!/bin/sh

#
# novramon required by novrapoll 
# net-snmp required by ipricot
# curl required by inpemwin
#
requires="tcl-8.6 tcllib gnuplot novramon"
## requires="tcl-8.6 tcllib gnuplot novramon net-snmp curl nbsp npemwin"

# so that FreeBSD runs it only once 
name=$1
key=$2
[ "$key" = "DEINSTALL" ] && exit 0

exit_status=0
for p in $requires
do
    result=`pkg_info -I ${p}* 2> /dev/null`
    status=$?
    if [ $status -ne 0 ]
    then
	echo "$p not found"
	exit_status=1
    fi
done

[ $exit_status -ne 0 ] && { echo "
To install tcl-8.6, pkg_add must be invoked as pkg_add -r tcl86,
the same with tk.

There is no standard package for gnuplot because the default requires pdflib,
which is not free. A suitable package is in the optional-packages directory.";}

exit $exit_status
